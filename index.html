<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="./src/styles.css" />
  </head>
  <script
    type="module"
    src="https://unpkg.com/deep-chat@2.0.1/dist/deepChat.bundle.js"
  ></script>
  <script src="https://aka.ms/csspeech/jsbrowserpackageraw"></script>
  <body>
    <deep-chat id="chat-element"
            style="z-index: 999; width: 96vw; height: calc(107vh - 71px); border-color: #e4e4e4; background: #e4e4e4"
            textInput='{
    "styles": {
      "container": {
        "borderRadius": "20px",
        "border": "unset",
        "width": "78%",
        "marginLeft": "8px",
        "boxShadow": "0px 0.3px 0.9px rgba(0, 0, 0, 0.12), 0px 1.6px 3.6px rgba(0, 0, 0, 0.16)"
      },
      "text": {"padding": "10px", "paddingLeft": "15px", "paddingRight": "34px"}
    },
    "placeholder": {"text": "Ask me anything...", "style": {"color": "#606060"}}
  }'
               images="true"
               camera='{"button": {"position": "dropup-menu"}}'
               dropupStyles='{
        "button": {
          "styles": {
            "container": {
              "default": {
                "width": "1.8em",
                "height": "1.8em",
                "borderRadius": "25px",
                "backgroundColor": "#8282821a"
              }
            },
            "svg": {
              "styles": {
                "default": {
                  "width": "1em",
                  "left": "6px",
                  "top": "0.3em",
                  "filter": "brightness(0) saturate(100%) invert(56%) sepia(0%) saturate(2755%) hue-rotate(104deg) brightness(96%) contrast(93%)"
                }
              },
              "content": "<?xml version=\"1.0\" encoding=\"utf-8\"?><svg viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M3,11h8V3a1,1,0,0,1,2,0v8h8a1,1,0,0,1,0,2H13v8a1,1,0,0,1-2,0V13H3a1,1,0,0,1,0-2Z\"/></svg>"
            }
          }
        }
      }'
            speechToText='{
      "azure": {
        "subscriptionKey": "",
        "region": "australiaeast"
      },
      "button": {
        "default": {
          "container": {"default": {"bottom": "1em", "right": "0.6em", "borderRadius": "20px", "width": "1.9em", "height": "1.9em"}},
          "svg": {"styles": {"default": {"bottom": "0.35em", "left": "0.35em"}}}
        },
        "position": "inside-right"
      },
      "commands": {
        "stop": "stop",
        "pause": "pause",
        "resume": "resume",
        "removeAllText": "remove text",
        "submit": "submit",
        "commandMode": "command"
       }
    }'
            messageStyles='{
    "default": {
      "shared": {
        "bubble": {
          "backgroundColor": "unset",
          "marginTop": "10px",
          "marginBottom": "10px",
          "boxShadow": "0px 0.3px 0.9px rgba(0, 0, 0, 0.12), 0px 1.6px 3.6px rgba(0, 0, 0, 0.16)"
        }
      },
      "user": {
        "bubble": {
          "background": "linear-gradient(130deg, #2870EA 20%, #1B4AEF 77.5%)"
        }
      },
      "ai": {"bubble": {"background": "rgba(255,255,255,0.7)"}}
    }
  }'
               errorMessages='{
      "overrides": {"speechToText": "Azure Speech To Text can not be used in this website as you need to set your credentials."}
    }'
            submitButtonStyles='{
    "position": "outside-right",
    "submit": {
      "container": {
        "default": {"bottom": "0.8em", "borderRadius": "25px", "padding": "6px 5px 4px", "backgroundColor": "unset"},
        "hover": {"backgroundColor": "#b0deff4f"},
        "click": {"backgroundColor": "#b0deffb5"}
      },
      "svg": {
        "content": "<?xml version=\"1.0\" encoding=\"utf-8\"?> <svg viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m21.426 11.095-17-8A.999.999 0 0 0 3.03 4.242L4.969 12 3.03 19.758a.998.998 0 0 0 1.396 1.147l17-8a1 1 0 0 0 0-1.81zM5.481 18.197l.839-3.357L12 12 6.32 9.16l-.839-3.357L18.651 12l-13.17 6.197z\"/></svg>",
        "styles": {
          "default": {
            "width": "1.5em",
            "filter":
              "brightness(0) saturate(100%) invert(10%) sepia(86%) saturate(6044%) hue-rotate(205deg) brightness(100%) contrast(100%)"
          }
        }
      }
    },
    "loading": {
      "svg": {
        "styles": {
          "default": {
            "filter":
              "brightness(0) saturate(100%) invert(72%) sepia(0%) saturate(3044%) hue-rotate(322deg) brightness(100%) contrast(96%)"
          }
        }
      }
    },
    "stop": {
      "container": {"hover": {"backgroundColor": "#ededed94"}},
      "svg": {
        "styles": {
          "default": {
            "bottom": "0.35em", "left": "0.35em",
            "filter": "brightness(0) saturate(100%) invert(72%) sepia(0%) saturate(3044%) hue-rotate(322deg) brightness(100%) contrast(96%)"
          }
        }
      }
    }
  }'
            demo="true"
            connect='{"stream": true}'
    >
      <div style="display: none">
        <div class="custom-button">
          <div class="custom-button-text">"Tell me what's the prerequisite for this subject"</div>
        </div>
        <div class="custom-button" style="margin-top: 20px">
          <div class="custom-button-text">"What can I gain from learning this subject"</div>
        </div>
        <div class="custom-button" style="margin-top: 20px">
          <div class="custom-button-text">"How many assessment does this subject have"</div>
        </div>
      </div>
    </deep-chat>
  </body>
  <!-- !!Either set the script as "module" or place your code in a timeout in order to wait for the component to load -->
  <script type="module">
    const elementRef = document.getElementById("chat-element");
    elementRef.htmlClassUtilities = {
      ['custom-button']: {
        events: {
          click: (event) => {
            const text = event.target.children[0].innerText;
            elementRef.submitUserMessage(text.substring(1, text.length - 1));
          },
        },
        styles: {
          default: {backgroundColor: '#ffffff', borderRadius: '10px', padding: '10px', cursor: 'pointer', textAlign: 'center'},
          hover: {backgroundColor: '#ebebeb'},
          click: {backgroundColor: '#e4e4e4'},
        },
      },
      ['custom-button-text']: {styles: {default: {pointerEvents: 'none'}}},
    };

    elementRef.demo = true;
    // Setting value via a property (easiest way)
  </script>
</html>
